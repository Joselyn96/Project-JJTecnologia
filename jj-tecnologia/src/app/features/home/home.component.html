<app-navbar />

<main>
  <!-- HERO -->
  <section class="bg-gradient-to-br from-primary-50 via-white to-surface py-20">
    <div class="max-w-6xl mx-auto px-6 grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
      <div>
        <h1 class="text-5xl md:text-6xl font-medium text-primary mb-6">
          Soluciones tecnológicas con garantía y soporte experto
        </h1>
        <p class="text-xl text-gray-600 mb-8 leading-relaxed">
          Computadoras, impresoras, cámaras de seguridad y servicios técnicos para tu hogar o negocio
        </p>
        <div class="flex flex-col sm:flex-row gap-4">
          <app-button size="lg">
            Ver productos
            <span class="material-symbols-outlined ml-2 align-middle">arrow_forward</span>
          </app-button>
          <app-button variant="secondary" size="lg">
            Solicitar servicio
          </app-button>
        </div>
      </div>

      <div class="relative h-96 bg-surface rounded-2xl overflow-hidden flex items-center justify-center">
        <img
  [src]="carouselImages[currentImageIndex]"
  alt="Productos destacados"
  class=" w-full h-full object-contain scale-110 md:scale-125 transition-all duration-700"
  loading="lazy"
/>
  <!-- Indicadores de paginación -->
  <div class="absolute bottom-4 flex gap-2">
    <span 
      *ngFor="let img of carouselImages; let i = index"
      class="w-3 h-3 rounded-full transition-all"
      [ngClass]="i === currentImageIndex ? 'bg-primary' : 'bg-gray-300'"
    ></span>
  </div>
      </div>
    </div>
  </section>

  <!-- SERVICIOS -->
  <section class="py-20 bg-white">
    <div class="max-w-7xl mx-auto px-6">
      <h2 class="text-4xl font-medium text-center mb-12">¿Por qué elegir JJ Tecnología?</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        @for (s of services; track s.title) {
        <app-card class="h-full" [hover]="true">
          <div class="h-[180px] flex flex-col items-center text-center">
            <div class="bg-primary-50 p-4 rounded-xl mb-4">
              <span class="material-symbols-outlined text-primary text-4xl">{{ s.icon }}</span>
            </div>
            <h3 class="text-lg mb-2 font-bold">{{ s.title }}</h3>
            <p class="text-gray-600 text-sm flex-1">{{ s.description }}</p>
          </div>
        </app-card>
        }
      </div>
    </div>
  </section>

  <!-- MARCAS -->
  <section class="py-16 bg-gray-50">
  <div class=" mx-auto px-6">
    <h3 class="text-center font-bold text-sm mb-8 uppercase tracking-wide">
      Marcas que confiamos
    </h3>

    <!-- MOBILE: GRID (sin animación) -->
    <div class="grid grid-cols-2 gap-4 items-center md:hidden">
      @for (brand of brands; track brand) {
      <div class="flex items-center justify-center p-3 bg-white rounded-lg border">
        <span class="text-gray-700 font-bold text-sm">{{ brand }}</span>
      </div>
      }
    </div>

    <!-- DESKTOP/TABLET: CARRUSEL HORIZONTAL -->
    <div class="hidden md:block">
      <!-- wrapper que controla el corte, pegado a los bordes -->
      <div class="overflow-x-hidden">
        <div class="flex items-center gap-6 whitespace-nowrap marquee px-6 py-2">
          @for (brand of brandsDouble; track brand) {
          <div class="flex items-center justify-center min-w-[120px] p-3 bg-white rounded-lg border">
            <span class="text-gray-700 font-bold text-sm">{{ brand }}</span>
          </div>
          }
        </div>
      </div>
    </div>

  </div>
</section>
  <!-- PRODUCTOS -->
  <section class="py-20 bg-white">
    <div class="max-w-6xl mx-auto px-6">
      <div class="flex justify-between items-center mb-12">
        <h2 class="text-4xl font-medium">Productos Destacados</h2>
        <app-button variant="ghost">
          Ver todos
          <span class="material-symbols-outlined ml-1 align-middle">arrow_forward</span>
        </app-button>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        @for (p of products; track p.id) {
        <app-card [hover]="true">
          <div class="relative mb-4 h-48 bg-surface rounded-lg overflow-hidden flex items-center justify-center">
            <img [src]="p.image || 'assets/placeholder.svg'" [alt]="p.name" class="object-cover w-full h-full"
              loading="lazy" />
          </div>

          <div class="flex justify-between items-start mb-3">
            <h3 class="text-lg flex-1">{{ p.name }}</h3>
            <app-badge [variant]="variantFor(p.stock)">{{ p.badge }}</app-badge>
          </div>

          <p class="text-2xl font-medium text-primary mb-4">
            S/ {{ p.price | number : '1.0-0' : 'es-PE' }}
          </p>

          <app-button class="w-full">Añadir al carrito</app-button>
        </app-card>
        }
      </div>
    </div>
  </section>

  <!-- TESTIMONIOS -->
  <section class="py-20 bg-white">
    <div class="max-w-6xl mx-auto px-6">
      <h2 class="text-4xl font-bold text-center mb-12">Lo que dicen nuestros clientes</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        @for (t of testimonials; track t.name) {
        <app-card>
          <div class="flex gap-1 mb-4">
            @for (s of [0,1,2,3,4]; track s) {
            <span class="text-yellow-400">★</span>
            }
          </div>
          <p class="text-gray-600 mb-4 italic">"{{ t.text }}"</p>
          <div>
            <p class="text-gray-900">{{ t.name }}</p>
            <p class="text-sm text-gray-500">{{ t.company }}</p>
          </div>
        </app-card>
        }
      </div>
    </div>
  </section>
</main>